<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Monthly Heatmap</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: #f7f7f7;
    }

    h1 {
      margin-bottom: 20px;
    }

    .heatmap {
      display: grid;
      grid-template-columns: repeat(7, 40px); /* 7 columns for 7 days of the week */
      gap: 5px;
    }

    .day {
      width: 40px;
      height: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 12px;
      color: #000;
      border-radius: 5px;
      background-color: white; /* Default color */
      border: 1px solid #ccc;
      cursor: pointer;
      user-select: none;
    }

    .day.green {
      background-color: #4caf50; /* Green for task done */
      color: #fff;
    }

    .day.red {
      background-color: #f44336; /* Red for task not done */
      color: #fff;
    }

    .day.white {
      background-color: white; /* White for no status */
      color: #000;
    }

    @media (max-width: 600px) {
      .heatmap {
        grid-template-columns: repeat(7, 30px);
      }
      .day {
        width: 30px;
        height: 30px;
        font-size: 10px;
      }
    }
  </style>
</head>
<body>
  <h1 id="month-name"></h1>
  <div id="heatmap" class="heatmap"></div>

  <script>
    // Get the current month and year
    const now = new Date();
    const month = now.getMonth(); // 0 = January, 1 = February, etc.
    const year = now.getFullYear();
    const daysInMonth = new Date(year, month + 1, 0).getDate(); // Get number of days in the current month

    // Set the month name
    const monthName = now.toLocaleString('default', { month: 'long' });
    document.getElementById('month-name').textContent = `${monthName} ${year}`;

    // Reference to the heatmap container
    const heatmap = document.getElementById('heatmap');

    // Generate heatmap cells
    for (let i = 1; i <= daysInMonth; i++) {
      const dayDiv = document.createElement('div');
      dayDiv.classList.add('day', 'white'); // Default color: white
      dayDiv.textContent = i;

      // Toggle color on click
      dayDiv.addEventListener('click', () => {
        if (dayDiv.classList.contains('white')) {
          dayDiv.classList.remove('white');
          dayDiv.classList.add('green'); // Set to green
        } else if (dayDiv.classList.contains('green')) {
          dayDiv.classList.remove('green');
          dayDiv.classList.add('red'); // Set to red
        } else if (dayDiv.classList.contains('red')) {
          dayDiv.classList.remove('red');
          dayDiv.classList.add('white'); // Reset to white
        }
      });

      // Append the day to the heatmap container
      heatmap.appendChild(dayDiv);
    }

    // Add empty cells for alignment (if the month doesn't start on Sunday)
    const firstDayOffset = new Date(year, month, 1).getDay(); // Day of the week (0 = Sunday)
    for (let i = 0; i < firstDayOffset; i++) {
      const emptyDiv = document.createElement('div');
      emptyDiv.classList.add('day');
      emptyDiv.style.visibility = 'hidden'; // Hide empty cells
      heatmap.prepend(emptyDiv); // Add empty cells at the start
    }
  </script>
</body>
</html>
